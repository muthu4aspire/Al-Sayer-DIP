<section class="page-section container">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="section">
      <form (ngSubmit)="submitForm()" [formGroup]="rsaForm" novalidate>
        <div class="form-group">
            <label>
              <span class="label-content">Roadside Assistance</span>
            </label>
          </div>
          <div class="form-group">
          <label>
              <span class="label-content">Vehicle</span>
              <select formControlName="vehicle" class="form-control"  *ngIf="vehicleList | async as vehicles$" >
              <option selected value="" disabled>Select Vehicle</option>
              <option
                  *ngFor="let vehicle of vehicles$ "
                  [value]="vehicle.uid"
                  >{{vehicle.model}} ,{{vehicle.chassisNumber}}</option>
              </select>
              <cx-form-errors
              [control]="rsaForm.get('vehicle')"
            ></cx-form-errors>
          </label>
          </div>
          <div class="form-group">
          <label>
              <span class="label-content">Problem</span>
              <select formControlName="issue" class="form-control"  *ngIf="vehicleList | async as vehicles$" >
              <option selected value="" disabled>Select Here</option>
              <option
                 *ngFor="let issue of IssueTypes | keyvalue"
                  [value]="issue.key"
                  >{{issue.value}}</option>
              </select>
              <cx-form-errors
              [control]="rsaForm.get('issue')"
            ></cx-form-errors>
          </label>
          </div>
          <div>Location : Search the location
             <div class="form-group">
              <input
                class="form-control"
                type="hidden"
                name="latitude"
                formControlName="latitude"
              /></div>
              <div class="form-group">
              <input
                class="form-control"
                type="hidden"
                name="longitude"
                formControlName="longitude"
              /></div>
             <div><button type="button" class="btn btn-primary btn-block" (click)="getCurrentLocation()">Get Your Current Location</button></div>  
             <div class="form-group">
              <label>
         <span class="label-content">Your Address</span>
         <input
          class="form-control"
          type="text"
          name="addressU"
          formControlName="addressU"
        />
       </label>
            </div>
            <div #map style="width:100%;height:400px" id="map"></div>
          </div>
          <div class="form-group">
            <label>
              <span class="label-content">Notes</span>
              <input
                class="form-control"
                type="text"
                name="notes"
                formControlName="notes"
              />
              <cx-form-errors
                  [control]="rsaForm.get('notes')"
                ></cx-form-errors>
            </label>
          </div>
          <div class="form-group">
            <label>
              <span class="label-content">Attachments</span>
              <input
                class="form-control"
                type="text"
                name="attachments"
                formControlName="attachments"
              />
              <cx-form-errors
                  [control]="rsaForm.get('attachments')"
                ></cx-form-errors>
            </label>
          </div>
          <button type="submit"  class="btn btn-primary btn-block">Submit</button>
          <div><button type="button" (click)="getDriverDetails()"  class="btn btn-primary btn-block">Driver Details</button> </div> 
        </form>
      </div>
    </div>
   </div>
  </section>
  <p>Form value: {{ rsaForm.value | json }}</p>
  <p>Form valid: {{ rsaForm.valid }}</p> 
  